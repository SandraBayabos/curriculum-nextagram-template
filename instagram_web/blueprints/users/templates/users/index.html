{% extends '_layout.html' %}
{% block content %}

<h1>List of Users</h1>

{% for user in users %}
<ul>
<li><img src="{{user.profile_image_url}}" height=250 width=250/> {{user.username}}</li>
</ul>
{% endfor %}

<!-- Pagination with just Next & Previous button-->
{% if pagination.get_page_count() > 1 %}
{% if page > 1 %}
<button class="previous">
  <a href="./?page={{ page - 1 }}">Previous</a>
  </button>
{% endif %}
{% if pagination.get_page_count() > pagination.get_page() %}
<button class="next">
<a href="./?page={{ page + 1 }}">Next</a>
</button>
{% endif %} 
{% endif %}

<!--Pagination with Next & Previous button and indicates page number out of total page number -->
{% if pagination.get_page_count() > 1 %}
<div class="pager">
  {% if pagination.get_page() > 1 %}
    <button class="previous">
    <a href="./?{{ request.args|clean_querystring('page', page=pagination.get_page() - 1) }}">&laquo; Previous {{ pagination.get_page() - 1 }} / {{ pagination.get_page_count() }}</a>
    </button>
  {% else %}
    <button style="display: none" class="previous disabled">
    <a href="#">&laquo; Previous</a>
    </button>
  {% endif %}

  {% if pagination.get_page_count() > pagination.get_page() %}
    <button class="next">
    <a href="./?{{ request.args|clean_querystring('page', page=pagination.get_page() + 1) }}">Next {{ pagination.get_page() + 1 }} / {{ pagination.get_page_count() }} &raquo;</a>
    </button>
  {% else %}
    <button style="display: none" class="next disabled">
    <a href="#">Next &raquo;</a></button>
  {% endif %}
</div>
{% endif %}

{% endblock %}