{% extends '_layout.html' %}
{% block content %}

<div class="indexPage">

<h1 class="text-center">List of Users</h1>
{% for user in users %}
<div class="indexUsers">
<div class="indexUser">
<div>{{user.username}}</div>
<img src="{{user.profile_image_url}}" height=250 width=250/> </div>
</div>
{% endfor %}
<br/>

<!-- Pagination with just Next & Previous button-->
{% if pagination.get_page_count() > 1 %}
<div class="pager-one text-center">
{% if page > 1 %}
<button id="pagination-btns" class="previous">
  <a href="./?page={{ page - 1 }}">Previous</a>
  </button>
{% endif %}
{% if pagination.get_page_count() > pagination.get_page() %}
<button id="pagination-btns" class="next">
<a href="./?page={{ page + 1 }}">Next</a>
</button>
{% endif %} 
</div>
{% endif %}
</br>

<!--Pagination with Next & Previous button and indicates page number out of total page number -->
{% if pagination.get_page_count() > 1 %}
<div class="pager-two text-center">
  {% if pagination.get_page() > 1 %}
    <button id="pagination-btn2" class="previous">
    <a href="./?page={{ page - 1 }}">&laquo; Previous {{ pagination.get_page() - 1 }} / {{ pagination.get_page_count() }}</a>
    </button>
  {% else %}
    <button id="pagination-btn2" style="display: none" class="previous disabled">
    <a href="#">&laquo; Previous</a>
    </button>
  {% endif %}

  {% if pagination.get_page_count() > pagination.get_page() %}
    <button id="pagination-btn2" class="next">
    <a href="./?page={{ page + 1 }}">Next {{ pagination.get_page() + 1 }} / {{ pagination.get_page_count() }} &raquo;</a>
    </button>
  {% else %}
    <button id="pagination-btn2" style="display: none" class="next disabled">
    <a href="#">Next &raquo;</a></button>
  {% endif %}
</div>
{% endif %}
</div>

<!--Pagination with page numbers-->

<!--% for pages in range(pagination.get_page_count()) %-->
<!--% for page_num in pagination.get_page_count()|string %-->
<!--% for page_num in (page|string) %-->
<!--% for page_num in range(1, pagination.get_page_count())%-->
<!--% for page_num in range(pagination.get_page(), pagination.get_page_count() + 1) %-->
<!--% for page in range(1, pagination.get_page_count()) %-->

<div class="pager-one text-center">
{% if page > 1 %}
  <button id="pg-btns"><a href="./?page={{ page - 1 }}">&laquo; </a></button>
<button id="pg-btns" class="previous">
  <a href="./?page={{ page - 1 }}">{{pagination.get_page() -1 }}</a>
  </button>
{% endif %}

{% if pagination.get_page_count() > pagination.get_page() %}
  {% if page == page %}
  <button id="pg-btns-disabled" class="disabled">{{page}}</button>
  <button id="pg-btns" class="next">
  <a href="./?page={{ page + 1 }}">{{pagination.get_page() + 1}}</a>
  {% endif %} 
  </button>
  <button id="pg-btns"><a href="./?page={{ page + 1 }}">&raquo;</a></button>
{% endif %}
<!--% endfor %-->
<!--% endfor %-->
<!--% endfor %-->
<!--% endfor %-->
<!--% endfor %-->
<!--% endfor %-->
<!--% endfor %-->

</div>

<br>

{% endblock %}